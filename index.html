<html>
<head>
  <script type="text/javascript">
  PATH_TO_CONV1_KERNEL = 'visualizations/0_conv1_kernel/'
  PATH_TO_CONV1 = 'visualizations/1_conv1/'
  PATH_TO_RELU = 'visualizations/2_conv1+relu/'
  PATH_TO_PRIMARY_CAPS = 'visualizations/3_primary_caps/'

  drawPage = (path) => {
    var allImages = ''

    for (var i = 0; i < 256; i++) {
      allImages += `<img class="image-thumb" data-path="${path}" data-index="${i}" onclick="imageClicked(event)" src="${path + i}.png">`
    }

    document.getElementById('photos').innerHTML = allImages
  }

  drawImage = (path, index) => {
    var image = `<img src="${path + index}.png">`
    document.getElementById('photo').innerHTML = image
  }

  imageClicked = (e) => {
    var images = document.getElementsByClassName('image-thumb')

    for (var i = 0; i < images.length; i++) {
      images[i].classList.remove('active')
    }

    drawImage(e.target.dataset.path, e.target.dataset.index)
    e.target.classList.add('active')
  }

  buttonClicked = (e) => {
    var tabs = document.getElementsByClassName('tab')

    for (var i = 0; i < tabs.length; i++) {
      tabs[i].classList.remove('active')
    }

    switch(e.target.id) {
      case 'c1_kernel':
        drawPage(PATH_TO_CONV1_KERNEL)
        drawImage(PATH_TO_CONV1_KERNEL, 0)
        break
      case 'c1':
        drawPage(PATH_TO_CONV1)
        drawImage(PATH_TO_CONV1, 0)
        break
      case 'c1_relu':
        drawPage(PATH_TO_RELU)
        drawImage(PATH_TO_RELU, 0)
        break
      case 'prim_caps':
        drawPage(PATH_TO_PRIMARY_CAPS)
        drawImage(PATH_TO_PRIMARY_CAPS, 0)
        break
    }
    e.target.classList.add('active')
  }

  document.onreadystatechange = () => {
    if (document.readyState === 'complete') {
      drawPage(PATH_TO_CONV1_KERNEL)
      drawImage(PATH_TO_CONV1_KERNEL, 0)
    }
  }
  </script>
  <style>
  html {
    font-family: sans-serif;
    font-size: 12px;
    background-color: #282c34;
  }

  * {
    padding: 0;
    margin: 0;
  }

  .inputs {
    z-index: 1;
    position: fixed;
    top: 0;
    bottom: 0;
    left: 0;
    width: 200px;
    background-color: #21252b;
    border-right: 1px solid #181a1f;
    padding-top: 38px;
  }

  .inputs-gap {
    width: 200px;
  }

  .input-item {
    display: flex;
    align-items: center;
    margin-left: 20px;
    color: #9ca4b3;
    height: 16px;
  }

  .input-item-container {
    cursor: pointer;
    display: flex;
    align-items: center;
    height: 24px;
  }

  .input-item-container.active {
    height: 24px;
    background-color: #2c313a;
  }

  .input-item-container.active svg #file-media {
    fill: #d7dae0;
  }

  .input-item .text {
    margin-left: 8px;
  }

  .tabs {
    position: fixed;
    top: 0;
    right: 0;
    left: 200px;
    background-color: #21252b;
    border-bottom: 1px solid #181a1f;
    height: 29px;
  }

  .tabs-gap {
    height: 29px;
  }

  .tab {
    cursor: pointer;
    height: 100%;
    width: 263px;
    border-right: 1px solid #181a1f;
    color: #6b727d;
    display: inline-flex;
    justify-content: center;
    align-items: center;
  }

  .tab.active {
    background-color: #282c34;
    border-bottom: 1px solid #282c34;
    color: #d7dae0;
  }

  .body {
    display: flex;
    align-items: center;
  }

  #photos {
    flex: 3;
    margin: 50px 50px 0 50px;
    display: grid;
    grid-template: repeat(16, 1fr) / repeat(16, 1fr);
    grid-gap: 2px;
  }

  #photo {
    flex: 2;
    margin: 50px 50px 0 50px;
    max-width: 660px;
  }

  #photos img {
    width: 100%;
    height: auto;
    image-rendering: crisp-edges;
    border-radius: 2px;
    box-sizing: border-box;
  }

  #photos img.active {
    border: 2px solid #568af2;
  }

  #photo img {
    width: 100%;
    height: auto;
    image-rendering: crisp-edges;
    border-radius: 2px;
  }
  </style>
</head>
<body>
  <!-- The comments remove annoying gaps -->
  <div class="tabs"><!--
    --><div class="tab active" onclick="buttonClicked(event)" id="c1_kernel">Conv1 Kernel</div><!--
    --><div class="tab" onclick="buttonClicked(event)" id="c1">Conv1</div><!--
    --><div class="tab" onclick="buttonClicked(event)" id="c1_relu">Conv1 + ReLU</div><!--
    --><div class="tab" onclick="buttonClicked(event)" id="prim_caps">Primary Caps</div>
  </div>
  <div class="tabs-gap"></div>
  <div class="body">
    <div class="inputs">
      <div class="input-item-container">
        <div class="input-item">
          <svg width="16px" height="16px" viewBox="0 0 12 16" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
              <g id="file-media" fill="#9da5b4">
                  <path d="M6,5 L8,5 L8,7 L6,7 L6,5 L6,5 Z M12,4.5 L12,14 C12,14.55 11.55,15 11,15 L1,15 C0.45,15 0,14.55 0,14 L0,2 C0,1.45 0.45,1 1,1 L8.5,1 L12,4.5 L12,4.5 Z M11,5 L8,2 L1,2 L1,13 L4,8 L6,12 L8,10 L11,13 L11,5 L11,5 Z" id="Shape"></path>
              </g>
          </svg>
          <div class="text">0.png</div>
        </div>
      </div>
      <div class="input-item-container">
        <div class="input-item">
          <svg width="16px" height="16px" viewBox="0 0 12 16" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
              <g id="file-media" fill="#9da5b4">
                  <path d="M6,5 L8,5 L8,7 L6,7 L6,5 L6,5 Z M12,4.5 L12,14 C12,14.55 11.55,15 11,15 L1,15 C0.45,15 0,14.55 0,14 L0,2 C0,1.45 0.45,1 1,1 L8.5,1 L12,4.5 L12,4.5 Z M11,5 L8,2 L1,2 L1,13 L4,8 L6,12 L8,10 L11,13 L11,5 L11,5 Z" id="Shape"></path>
              </g>
          </svg>
          <div class="text">1.png</div>
        </div>
      </div>
      <div class="input-item-container active">
        <div class="input-item">
          <svg width="16px" height="16px" viewBox="0 0 12 16" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
              <g id="file-media" fill="#9da5b4">
                  <path d="M6,5 L8,5 L8,7 L6,7 L6,5 L6,5 Z M12,4.5 L12,14 C12,14.55 11.55,15 11,15 L1,15 C0.45,15 0,14.55 0,14 L0,2 C0,1.45 0.45,1 1,1 L8.5,1 L12,4.5 L12,4.5 Z M11,5 L8,2 L1,2 L1,13 L4,8 L6,12 L8,10 L11,13 L11,5 L11,5 Z" id="Shape"></path>
              </g>
          </svg>
          <div class="text">2.png</div>
        </div>
      </div>
      <div class="input-item-container">
        <div class="input-item">
          <svg width="16px" height="16px" viewBox="0 0 12 16" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
              <g id="file-media" fill="#9da5b4">
                  <path d="M6,5 L8,5 L8,7 L6,7 L6,5 L6,5 Z M12,4.5 L12,14 C12,14.55 11.55,15 11,15 L1,15 C0.45,15 0,14.55 0,14 L0,2 C0,1.45 0.45,1 1,1 L8.5,1 L12,4.5 L12,4.5 Z M11,5 L8,2 L1,2 L1,13 L4,8 L6,12 L8,10 L11,13 L11,5 L11,5 Z" id="Shape"></path>
              </g>
          </svg>
          <div class="text">3.png</div>
        </div>
      </div>
    </div>
    <div class="inputs-gap"></div>
    <section id="photos"></section>
    <section id="photo"></section>
  </div>
</body>
</html>
